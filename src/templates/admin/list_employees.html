{% extends "base.html" %} <!-- Inherit from the base template -->

{% block title %}
  List of employees <!-- Set the title of the page -->
{% endblock title %}

{% block content %}
<div id="layoutSidenav_content">
    <main>
        <div class="container-fluid px-4">
            <!-- Page heading -->
            <h1 class="mt-4">List of employees</h1>
            <hr>
            
            <!-- Displaying any flashed error messages from Flask -->
            <div class="container">
                {% for message in get_flashed_messages() %}
                <div class="alert alert-warning" role="alert">
                    <!--<button type="button" class="close" data-dismiss="alert">&times;</button>-->
                    <div style="text-align:center">{{ message }}</div>
                </div>
                {% endfor %}
            </div>

            <!-- Card container for employee list -->
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-table me-1"></i>
                    List of employees <!-- Card title -->
                </div>
                <div class="card-body">
                    <!-- Table for displaying the list of employees -->
                    <table class="table table-striped">
                        <thead>
                            <!-- Table header row -->
                            <tr>
                                <th scope="col">Employee ID</th> <!-- Employee ID column -->
                                <th scope="col">First Name</th> <!-- First name column -->
                                <th scope="col">Last Name</th> <!-- Last name column -->
                                <th scope="col">Department</th> <!-- Department column -->
                                <th scope="col">Salary</th> <!-- Salary column -->
                                <th scope="col">Action</th> <!-- Action column -->
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Loop through the list of employees -->
                            {% for user in list_users %}
                            <form action="#" method="POST">
                                <tr>
                                    <!-- Employee ID (hidden input for backend use) -->
                                    <td>
                                        <input type="hidden" name="employee_id" value="{{ user['employee_id'] }}"/>
                                        {{ user['employee_id'] }}
                                    </td>
                                    <!-- Display first name -->
                                    <td>{{ user['firstname'] }}</td>
                                    <!-- Display last name -->
                                    <td>{{ user['lastname'] }}</td>
                                    <!-- Display department -->
                                    <td>{{ user['dep'] }}</td>
                                    <!-- Display salary -->
                                    <td>{{ user['salary'] }}</td>
                                    <!-- Edit button to update employee data -->
                                    <td>
                                        <input name="Edit" type="submit" value="Edit" class="btn btn-primary" style="width:100%"/>
                                    </td>
                                </tr>
                            </form>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>
{% endblock content %}
